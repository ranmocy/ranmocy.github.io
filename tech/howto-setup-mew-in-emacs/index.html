<!DOCTYPE html><html><head><title>Howto Setup Mew in Emacs</title><meta charset="utf-8" http-equiv="Content-Type" /><meta content="Ranmocy" name="author" /><meta content="Jun 27 2012" name="description" /><meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport" /><link href="https://plus.google.com/+WanzhangSheng" rel="author" /><link href="https://plus.google.com/+WanzhangSheng" rel="publisher" /><link href="atom.xml" rel="alternate" title="Howto Setup Mew in Emacs" type="application/atom+xml" /><meta content="blog" property="og:type" /><meta content="Howto Setup Mew in Emacs" property="og:title" /><meta content="Homepage of Mew. http://www.Mew.org/0. Setup stunnelIf you want to use Gmail or any other who for..." property="og:description" /><meta content="https://ranmocy.me/favicon.ico" property="og:image" /><meta content="summary" name="twitter:card" /><meta content="@ranmocy" name="twitter:site" /><meta content="Howto Setup Mew in Emacs" name="twitter:title" /><meta content="Homepage of Mew. http://www.Mew.org/0. Setup stunnelIf you want to use Gmail or any other who for..." name="twitter:description" /><meta content="https://ranmocy.me/favicon.ico" name="twitter:image" /><meta content="@ranmocy" name="twitter:creator" /><meta content="https://ranmocy.me" name="twitter:domain" /><link href="/icons/favicon.ico" rel="icon" type="image/x-icon" /><link href="/icons/favicon.ico" rel="shortcut icon" type="image/x-icon" /><link href="/icons/Icon-60@2x.png" rel="apple-touch-icon" /><link href="/icons/Icon-60@3x.png" rel="apple-touch-icon" sizes="180x180" /><link href="/icons/Icon-76.png" rel="apple-touch-icon" sizes="76x76" /><link href="/icons/Icon-76@2x.png" rel="apple-touch-icon" sizes="152x152" /><link href="/icons/Icon-Small@2x.png" rel="apple-touch-icon" sizes="58x58" /><link href='/assets/stylesheets/default.css' media='screen' rel='stylesheet' type='text/css'></head><body class="typo"><nav><span class="title"><a href='/' >Howto Setup Mew in Emacs</a></span><span class="date">Jun 27 2012</span><span class="link"><a href='/categories/' >Categories</a><a href='/memories/' >Memories</a><a href='/about/' >About</a></span></nav><main><article><p>Homepage of Mew. http://www.Mew.org/</p>

<ol>
<li><p>Setup stunnel
If you want to use Gmail or any other who force you to use SSL, you have to install stunnel.</p>

<p>  brew install stunnel</p></li>
<li><p>Get it.
Download from http://www.mew.org/en/download/
Current newest version: http://www.mew.org/Release/mew-6.5.tar.gz</p></li>
<li><p>Install it.</p>

<p> tar zxf mew-6.5.tar.gz
 cd mew-6.5
 ./configure
 make
 make install</p></li>
</ol>


<p>Or move it to your emacs folder and add it to your load-path</p>

<pre><code>(add-to-list load-path "/path/to/your/mew/")
</code></pre>

<p>CHECKPOINT:
  Now you should be able to (require 'mew) in your Emacs.</p>

<ol>
<li>Setup your mew</li>
</ol>


<p>Add-to-file <code>set-mew.el</code> and load it from your emacs configure.</p>

<pre><code>(autoload 'mew "mew" nil t)
(autoload 'mew-send "mew" nil t)
(setq mew-icon-directory
      (expand-file-name "etc" (file-name-directory (locate-library "mew.el"))))
(setq mew-use-cached-passwd t)

;; Optional setup (Read Mail menu):
(if (boundp 'read-mail-command)
    (setq read-mail-command 'mew))

;; Optional setup (e.g. C-xm for sending a message):
(autoload 'mew-user-agent-compose "mew" nil t)
(if (boundp 'mail-user-agent)
    (setq mail-user-agent 'mew-user-agent))
(if (fboundp 'define-mail-user-agent)
    (define-mail-user-agent
      'mew-user-agent
      'mew-user-agent-compose
      'mew-draft-send-message
      'mew-draft-kill
      'mew-send-hook))

(setq mew-pop-size 0)
(setq mew-smtp-auth-list nil)
(setq toolbar-mail-reader 'Mew)
(set-default 'mew-decode-quoted 't)
(when (boundp 'utf-translate-cjk)
  (setq utf-translate-cjk t)
  (custom-set-variables
   '(utf-translate-cjk t)))
(if (fboundp 'utf-translate-cjk-mode)
    (utf-translate-cjk-mode 1))

(defvar mew-cite-fields '("From:" "Subject:" "Date:"))
(defvar mew-cite-format "From: %s\nSubject: %s\nDate: %s\n\n")
(defvar mew-cite-prefix "&gt; ")

(setq mew-ssl-verify-level 0)
(setq mew-use-cached-passwd t)

(setq mew-signature-file "~/Mail/signature")
(setq mew-signature-as-lastpart t)
(setq mew-signature-insert-last t)
(add-hook 'mew-before-cite-hook 'mew-header-goto-body)
(add-hook 'mew-draft-mode-newdraft-hook 'mew-draft-insert-signature)

;; (setq mew-refile-guess-alist
;;       '(("To:"
;;          ("@octave.org"                       . "+math/octave")
;;          ("@freebsd.org"                      . "+unix/freebsd"))
;;         ("Cc:"
;;          ("@octave.org"                       . "+math/octave")
;;          ("@freebsd.org"                      . "+unix/freebsd"))
;;         (nil . "+inbox")))
(setq mew-refile-guess-control
      '(mew-refile-guess-by-folder
        mew-refile-guess-by-alist))

(setq mew-summary-form
      '(type (5 date) " " (14 from) " " t (0 subj)))
(setq mew-summary-form-extract-rule '(name))

;; Password
(setq mew-use-master-passwd t)

;;(setq mew-ssl-verify-level 0)
(setq mew-prog-ssl "/usr/local/bin/stunnel")
</code></pre>

<p>Mew will read <code>~/.mew.el</code> when it's launched.</p>

<p>Add-to-file <code>~/.mew.el</code> :</p>

<pre><code>;; setup mail info
(setq mew-config-alist
      '(
        (default
          (mailbox-type          imap)
          (proto                 "%")
          (prog-ssl              "/usr/local/bin/stunnel")
          (imap-server           "imap.gmail.com")
          (imap-ssl-port         "993")
          (imap-user             "ranmocy@gmail.com")
          (name                  "Ranmocy Sheng")
          (user                  "ranmocy")
          (mail-domain           "gmail.com")
          (imap-ssl              t)
          (imap-size             0)
          (imap-delete           t)
          (imap-queue-folder     "%queue")
          (imap-trash-folder     "%Trash")
          ;; This must be in concile with your IMAP box setup
          (smtp-ssl              t)
          (smtp-auth-list        ("PLAIN" "LOGIN" "CRAM-MD5"))
          (smtp-user             "ranmocy@gmail.com")
          (smtp-server           "smtp.gmail.com")
          (smtp-ssl-port         "465")
          )))
</code></pre>

<p>OPTIONS:
If you want to read HTML email in mew:</p>

<p>Install emacs-w3m:</p>

<p>require <code>setup-emacs-w3m</code></p>

<p>Add-to <code>set-mew.el</code></p>

<pre><code>;; HTML support
(setq mew-mime-multipart-alternative-list '("Text/Html" "Text/Plain" "*."))
(condition-case nil
    (require 'mew-w3m)
  (file-error nil))
(setq mew-use-text/html t)
</code></pre>

<h1>Now-you-can</h1>

<ol>
<li>Run <code>M-x mew</code> to run mew in your Emacs.</li>
<li>Press <code>i</code> to check new email in your Inbox.</li>
<li>Press <code>SPACE</code> on your email to read it, and it should support HTML format.</li>
</ol>


<h1>Finish setup-mew-in-emacs</h1>
</article><div id="disqus_thread"></div><script>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'ranmocyblog'; // required: replace example with your forum shortname
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><a class="dsq-brlink" href="http://disqus.com">comments powered by<span class="logo-disqus">Disqus</span></a></main><footer><div class="piece"><span>我努力将诸多人格中微小的片面拼合。</span><span>我拨开我的大脑，只为博君一笑。</span></div><div class="piece"><span>Created by: <a href='/about/' rel="author" title="Ranmocy">Ranmocy</a></span><span>Hosted at: <a href='https://github.com/ranmocy/Brain' rel="friend" title="Github" target="_blank">Github</a></span></div><div class="piece"><span>&copy;Copyright 1991-2017 Ranmocy.</span><span>All Rights Reserved.</span></div></footer><script>var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-20961770-4']); _gaq.push(['_trackPageview']); (function() {var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);})();</script></body></html>